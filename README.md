# m3u8 下载工具

- **缘起:** 嗯，下载某不可描述网站的m3u8，x86平台用wget就行，挺稳，就是速度有点慢，手机上用sh脚本也行，就是写得蛋疼，不如用go写个

- **适用范围:** 简单的m3u8，ts路径不带参数的

- **流程:** 下载m3u8，读取分析，下载key，拆分任务，下载TS

- **编译:** 参见 (http://linpinger.olsoul.com/usr/2017-06-12_golang.html)  下的一般编译方法

## 日志

- 2025-11-17: 调整下载m3u8下载流程：下载到变量中，判断是否有子m3u8，下载后再写入文件（考虑是否在此处加入tengo脚本支持，方便后期针对不同m3u8的生成）
- 2024-10-29: 调整了一些代码，添加一些注释，删除了一个合并视频的功能
- 2024-10-25: 添加支持代理功能，也就是添加了一句 `Proxy: http.ProxyFromEnvironment,`，用法先设置环境变量 `set HTTPS_PROXY=http://127.0.0.1:10809` ，然后运行m3u8即可
- 2023-06-23: 如果有 `Content-Length` 字段，就判断大小来确定是否修改时间戳，避免因网络故障没下载完导致无法检测下载是否完整
- 2023-06-21: 第一版，基本能用

